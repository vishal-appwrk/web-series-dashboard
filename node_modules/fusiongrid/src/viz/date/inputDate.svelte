<script>
  export let value,
    onChangeHandler,
    style,
    disabled

  function onBeforeInput(e) {
    let date = e.target.value;
    if(e.data) {
      if (date.length == 2 || date.length == 5) {
        date = date + '-'
      }
    } else {
      if (date.length == 7 || date.length == 4) {
        date = date.slice(0, -1);
      }
    }
    if (!e.data || e.data.match(/[0-9]$/)) {
      this.value = date
    } else {
      e.preventDefault();
    }
  }
</script>
<input
  {style}
  type="text"
  {value}
  {disabled}
  on:beforeinput={onBeforeInput}
  on:input={onChangeHandler} />
