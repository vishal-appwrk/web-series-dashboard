type scrollPropType = 'scrollLeft' | 'scrollTop';

export default function syncScroll(listener: HTMLElement, listenTo: HTMLElement, direction: string, listenRecursively: boolean = true): void {
  let donotScrollListenTo = false,
    donotScrollListener = false,
    scrollProp: scrollPropType = direction === 'horizontal' ? 'scrollLeft' : 'scrollTop';

  listenTo.onscroll = function () {
    if (!donotScrollListenTo) {
      donotScrollListener = true;
      listener[scrollProp] = listenTo[scrollProp];
    }
    donotScrollListenTo = false;
  };
  if (listenRecursively) {
    listener.onscroll = function () {
      if (!donotScrollListener) {
        donotScrollListenTo = true;
        listenTo[scrollProp] = listener[scrollProp];
      }
      donotScrollListener = false;
    };
  }
}