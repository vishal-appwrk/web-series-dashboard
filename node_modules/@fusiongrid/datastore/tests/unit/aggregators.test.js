import { sum, avg } from '../../src/aggregators/aggregators';

describe('test aggregator functions', () => {
  var arr = [8620, 1363, 8456, 2579, 3806, 254, 2066, 4928, 8827, 4359, 232, 5532, 2832, 5520, 2714, 6108, 6986, 6771, 4671, 3155], length = arr.length;

  it('test sum', () => {
    var prevSum = 0;
    for (let i = 0; i < length; i++) {
      prevSum = sum(prevSum, arr[i]);
    }

    expect(prevSum).toEqual(89779);
  });

  it('test sum', () => {
    var prevAvg = 0;
    for (let i = 0; i < length; i++) {
      prevAvg = avg(prevAvg, arr[i], i + 1);
    }

    expect(+prevAvg.toFixed(2)).toEqual(4488.95);
  });
});
