import TimeInterval from '../time-interval.js';
import { durationWeek } from '../../../toolbox/src/index';

const utcWeekday = (i, n) => {
    return new TimeInterval(
      n,
      d => {
        d.setUTCDate(d.getUTCDate() - (d.getUTCDay() + 7 - i) % 7);
        d.setUTCHours(0, 0, 0, 0);
      },
      (d, s) => d.setUTCDate(d.getUTCDate() + s * 7),
      (s, e) => (e - s) / durationWeek
    );
  },
  utcWeek = utcWeekday(0, 'week'),
  utcSunday = utcWeekday(0, 'sunday'),
  utcMonday = utcWeekday(1, 'monday'),
  utcTuesday = utcWeekday(2, 'tuesday'),
  utcWednesday = utcWeekday(3, 'wednesday'),
  utcThursday = utcWeekday(4, 'thursday'),
  utcFriday = utcWeekday(5, 'friday'),
  utcSaturday = utcWeekday(6, 'saturday');

export default utcWeek;

export {
  utcSunday,
  utcMonday,
  utcTuesday,
  utcWednesday,
  utcThursday,
  utcFriday,
  utcSaturday
};
