import TimeInterval from '../time-interval.js';

const utcQuarter = new TimeInterval(
  'quarter',
  d => {
    d.setUTCMonth(d.getUTCMonth() - ((d.getUTCMonth() + 3) % 3), 1);
    d.setUTCHours(0, 0, 0, 0);
  },
  (d, s) => d.setUTCMonth(d.getUTCMonth() + (s * 3)),
  (s, e) => (((e.getUTCMonth() - ((e.getUTCMonth() + 3) % 3)) - (s.getUTCMonth() - ((s.getUTCMonth() + 3) % 3))) / 3) +
    ((e.getUTCFullYear() - s.getUTCFullYear()) * 4),
  d => Math.floor(d.getMonth() / 3) // works incorrectly with every
);

export default utcQuarter;
