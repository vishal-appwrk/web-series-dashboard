/* eslint-disable class-methods-use-this */
import TimeInterval from '../time-interval.js';

class UtcYearInterval extends TimeInterval {
  // An simpler, optimized implementation for a UTC Year Interval
  every (_step) {
    let step = _step;
    if (!isFinite(step = Math.floor(step)) || !(step > 0)) {
      return null;
    }
    return new TimeInterval(
      'year',
      d => {
        d.setUTCFullYear(Math.floor(d.getUTCFullYear() / step) * step);
        d.setUTCMonth(0, 1);
        d.setUTCHours(0, 0, 0, 0);
      },
      (d, s) => d.setUTCFullYear(d.getUTCFullYear() + s * step)
    );
  }
}

export default UtcYearInterval;
