import TimeInterval from './time-interval.js';

const quarter = new TimeInterval(
  'quarter',
  d => {
    d.setMonth(d.getMonth() - ((d.getMonth() + 3) % 3), 1);
    d.setHours(0, 0, 0, 0);
  },
  (d, s) => d.setMonth(d.getMonth() + (s * 3)),
  (s, e) => (((e.getMonth() - ((e.getMonth() + 3) % 3)) - (s.getMonth() - ((s.getMonth() + 3) % 3))) / 3) +
    ((e.getFullYear() - s.getFullYear()) * 4),
  d => Math.floor(d.getMonth() / 3) // works incorrectly with every
);

export default quarter;
