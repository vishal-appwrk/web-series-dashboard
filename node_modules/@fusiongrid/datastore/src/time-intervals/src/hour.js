import TimeInterval from './time-interval.js';
import { durationHour, durationMinute } from '../../toolbox/src/index';

const hour = new TimeInterval(
  'hour',
  d => {
    let offset = (d.getTimezoneOffset() * durationMinute) % durationHour;

    if (offset < 0) offset += durationHour;

    d.setTime(Math.floor((Number(d) - offset) / durationHour) * durationHour + offset);
  },
  (d, s) => d.setTime(Number(d) + s * durationHour),
  (s, e) => (e - s) / durationHour,
  d => d.getHours()
);

export default hour;
