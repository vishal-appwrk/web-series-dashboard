import TimeInterval from './time-interval.js';
import { durationMinute, durationWeek } from '../../toolbox/src/index';

const weekday = (i, n) => new TimeInterval(
    n,
    d => {
      d.setDate(d.getDate() - (((d.getDay() + 7) - i) % 7));
      d.setHours(0, 0, 0, 0);
    },
    (d, s) => d.setDate(d.getDate() + (s * 7)),
    (s, e) => ((e - s) - ((e.getTimezoneOffset() - s.getTimezoneOffset()) *
      durationMinute)) / durationWeek
  ),
  week = weekday(0, 'week'),
  sunday = weekday(0, 'sunday'),
  monday = weekday(1, 'monday'),
  tuesday = weekday(2, 'tuesday'),
  wednesday = weekday(3, 'wednesday'),
  thursday = weekday(4, 'thursday'),
  friday = weekday(5, 'friday'),
  saturday = weekday(6, 'saturday');

export default week;

export {
  sunday,
  monday,
  tuesday,
  wednesday,
  thursday,
  friday,
  saturday
};
